{"name": "total orders for authorised users without orders", "status": "failed", "statusDetails": {"message": "AssertionError: Получено неверное значение ключа \"total\": ожидалось \"0\", получено \"239182\"", "trace": "self = <tests.test_get_user_orders.TestGetUserOrders object at 0x10a637c90>\nsetup_user = ({'email': 'dwelmxygtt@mail.ru', 'name': 'tmrkayvszn', 'password': 'vriefvggyj'}, 'Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6...WQyOWVkMjgwMDAxYjYxMjIzZCIsImlhdCI6MTc0OTM4MTU4NiwiZXhwIjoxNzQ5MzgyNzg2fQ.mJb8XDKPNy9oGOk2bEeP4tCXSqR_piPH1WqcEzBnl1I')\n\n    @allure.title('total orders for authorised users without orders')\n    def test_get_user_orders_total_authorized_user_no_orders(self, setup_user):\n    \n        user_data, auth_token = setup_user\n        response = u.try_to_get_user_orders(auth_token)\n        received_body = c.check_success_ok(response)\n>       c.check_received_orders_total(received_body, 0)\n\ntests/test_get_user_orders.py:96: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\nhelpers/helpers_on_check_response.py:209: in check_received_orders_total\n    HelpersOnCheck.check_key_and_value_in_body(received_body, KEYS.TOTAL_KEY, amount)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\nresponse_body = {'orders': [], 'success': True, 'total': 239182, 'totalToday': 731}, key = 'total', value = 0\n\n    @staticmethod\n    @allure.step('Проверяем значение ключа в ответе')\n    def check_key_and_value_in_body(response_body, key, value):\n        # проверяем наличие ключа в ответе\n        assert key in response_body, f'В ответе отсутствует ключ \"{key}\", получен ответ: \"{response_body}\"'\n        # проверяем значение ключа в ответе\n        received_value = response_body[key]\n>       assert received_value == value, f'Получено неверное значение ключа \"{key}\": ожидалось \"{value}\", получено \"{received_value}\"'\nE       AssertionError: Получено неверное значение ключа \"total\": ожидалось \"0\", получено \"239182\"\n\nhelpers/helpers_on_check_response.py:23: AssertionError"}, "steps": [{"name": "retrieve order list", "status": "passed", "steps": [{"name": "retrieve user order list", "status": "passed", "parameters": [{"name": "headers", "value": "{'Authorization': 'Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjY4NDU3MWQyOWVkMjgwMDAxYjYxMjIzZCIsImlhdCI6MTc0OTM4MTU4NiwiZXhwIjoxNzQ5MzgyNzg2fQ.mJb8XDKPNy9oGOk2bEeP4tCXSqR_piPH1WqcEzBnl1I'}"}], "start": 1749381586753, "stop": 1749381587207}], "parameters": [{"name": "auth_token", "value": "'Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjY4NDU3MWQyOWVkMjgwMDAxYjYxMjIzZCIsImlhdCI6MTc0OTM4MTU4NiwiZXhwIjoxNzQ5MzgyNzg2fQ.mJb8XDKPNy9oGOk2bEeP4tCXSqR_piPH1WqcEzBnl1I'"}], "start": 1749381586753, "stop": 1749381587207}, {"name": "Проверяем, что запрос выполнен успешно", "status": "passed", "steps": [{"name": "Проверяем код ответа", "status": "passed", "parameters": [{"name": "response", "value": "<Response [200]>"}, {"name": "expected_code", "value": "200"}], "start": 1749381587207, "stop": 1749381587207}, {"name": "Проверяем значение поля \"success\" в ответе", "status": "passed", "parameters": [{"name": "response", "value": "<Response [200]>"}, {"name": "expected_value", "value": "True"}], "start": 1749381587207, "stop": 1749381587207}], "parameters": [{"name": "response", "value": "<Response [200]>"}], "start": 1749381587207, "stop": 1749381587207}, {"name": "Проверяем в полученном ответе поле \"total\"", "status": "failed", "statusDetails": {"message": "AssertionError: Получено неверное значение ключа \"total\": ожидалось \"0\", получено \"239182\"\n", "trace": "  File \"/Users/Sam.Lukashenko/anaconda3/lib/python3.11/site-packages/allure_commons/_allure.py\", line 202, in impl\n    return func(*a, **kw)\n           ^^^^^^^^^^^^^^\n  File \"/Users/Sam.Lukashenko/Documents/Diplom_2/helpers/helpers_on_check_response.py\", line 209, in check_received_orders_total\n    HelpersOnCheck.check_key_and_value_in_body(received_body, KEYS.TOTAL_KEY, amount)\n  File \"/Users/Sam.Lukashenko/anaconda3/lib/python3.11/site-packages/allure_commons/_allure.py\", line 202, in impl\n    return func(*a, **kw)\n           ^^^^^^^^^^^^^^\n  File \"/Users/Sam.Lukashenko/Documents/Diplom_2/helpers/helpers_on_check_response.py\", line 23, in check_key_and_value_in_body\n    assert received_value == value, f'Получено неверное значение ключа \"{key}\": ожидалось \"{value}\", получено \"{received_value}\"'\n           ^^^^^^^^^^^^^^^^^^^^^^^\n"}, "steps": [{"name": "Проверяем значение ключа в ответе", "status": "failed", "statusDetails": {"message": "AssertionError: Получено неверное значение ключа \"total\": ожидалось \"0\", получено \"239182\"\n", "trace": "  File \"/Users/Sam.Lukashenko/anaconda3/lib/python3.11/site-packages/allure_commons/_allure.py\", line 202, in impl\n    return func(*a, **kw)\n           ^^^^^^^^^^^^^^\n  File \"/Users/Sam.Lukashenko/Documents/Diplom_2/helpers/helpers_on_check_response.py\", line 23, in check_key_and_value_in_body\n    assert received_value == value, f'Получено неверное значение ключа \"{key}\": ожидалось \"{value}\", получено \"{received_value}\"'\n           ^^^^^^^^^^^^^^^^^^^^^^^\n"}, "parameters": [{"name": "response_body", "value": "{'success': True, 'orders': [], 'total': 239182, 'totalToday': 731}"}, {"name": "key", "value": "'total'"}, {"name": "value", "value": "0"}], "start": 1749381587208, "stop": 1749381587208}], "parameters": [{"name": "received_body", "value": "{'success': True, 'orders': [], 'total': 239182, 'totalToday': 731}"}, {"name": "amount", "value": "0"}], "start": 1749381587208, "stop": 1749381587208}], "start": 1749381586753, "stop": 1749381587209, "uuid": "82c6124b-5868-439e-8ace-192ab408fcf6", "historyId": "bf77a96ca810b481603598123bca33d4", "testCaseId": "bf77a96ca810b481603598123bca33d4", "fullName": "tests.test_get_user_orders.TestGetUserOrders#test_get_user_orders_total_authorized_user_no_orders", "labels": [{"name": "tag", "value": "@pytest.mark.usefixtures('setup_ingredients', scope='class')"}, {"name": "parentSuite", "value": "tests"}, {"name": "suite", "value": "test_get_user_orders"}, {"name": "subSuite", "value": "TestGetUserOrders"}, {"name": "host", "value": "UNIT-2336"}, {"name": "thread", "value": "34976-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "tests.test_get_user_orders"}]}